import { Apartments } from '../../domain/apartments.js';
import { HttpHelper } from '../../utils/httpHelper.js';
export class jsonAPIProvider {
    find(filter) {
        return HttpHelper.fetchAsJson(jsonAPIProvider.apiURL)
            .then((resp) => this.convertBookListResponse(resp));
    }
    convertBookListResponse(response) {
        console.log(response);
        return Object.values(response).map((item) => this.convertBookResponse(item));
    }
    convertBookResponse(item) {
        return new Apartments(jsonAPIProvider.provider, item.id, item.name, item.description, item.price, item.image, item.remoteness, item.bookedDates);
    }
}
jsonAPIProvider.provider = 'jsonAPI';
jsonAPIProvider.apiURL = 'http://localhost:3000/places';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbkFQSVByb3ZpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2Jvb2tpbmdTZXJ2aWNlL3Byb3ZpZGVycy9qc29uQVBJL2pzb25BUElQcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsVUFBVSxFQUFDLE1BQU0sNEJBQTRCLENBQUM7QUFHdEQsT0FBTyxFQUFrRCxVQUFVLEVBQUMsTUFBTSwyQkFBMkIsQ0FBQztBQUV0RyxNQUFNLE9BQU8sZUFBZTtJQUduQixJQUFJLENBQUMsTUFBd0I7UUFDbEMsT0FBTyxVQUFVLENBQUMsV0FBVyxDQUFnQyxlQUFlLENBQUMsTUFBTSxDQUFDO2FBQ2pGLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7SUFDdkQsQ0FBQztJQUNPLHVCQUF1QixDQUFDLFFBQXVDO1FBQ3JFLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDckIsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7SUFDOUUsQ0FBQztJQUVPLG1CQUFtQixDQUFDLElBQXNCO1FBQ2hELE9BQU8sSUFBSSxVQUFVLENBQ25CLGVBQWUsQ0FBQyxRQUFRLEVBQ3hCLElBQUksQ0FBQyxFQUFFLEVBQ1AsSUFBSSxDQUFDLElBQUksRUFDVCxJQUFJLENBQUMsV0FBVyxFQUNoQixJQUFJLENBQUMsS0FBSyxFQUNWLElBQUksQ0FBQyxLQUFLLEVBQ1YsSUFBSSxDQUFDLFVBQVUsRUFDZixJQUFJLENBQUMsV0FBVyxDQUNqQixDQUFBO0lBQ0gsQ0FBQzs7QUF0QmEsd0JBQVEsR0FBRyxTQUFTLENBQUE7QUFDcEIsc0JBQU0sR0FBRyw4QkFBOEIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QXBhcnRtZW50c30gZnJvbSAnLi4vLi4vZG9tYWluL2FwYXJ0bWVudHMuanMnO1xuaW1wb3J0IHtQcm92aWRlcn0gZnJvbSAnLi4vLi4vZG9tYWluL3Byb3ZpZGVyLmpzJztcbmltcG9ydCB7U2VhcmNoRmlsdGVySlNPTn0gZnJvbSAnLi4vLi4vZG9tYWluL3NlYXJjaEZpbHRlci5qcyc7XG5pbXBvcnQge0FwYXJ0bWVudEpTT05BcGksIEFwYXJ0bWVudHNMaXN0UmVzcG9uc2VKU09OQXBpLCBIdHRwSGVscGVyfSBmcm9tICcuLi8uLi91dGlscy9odHRwSGVscGVyLmpzJztcblxuZXhwb3J0IGNsYXNzIGpzb25BUElQcm92aWRlciBpbXBsZW1lbnRzIFByb3ZpZGVye1xuICBwdWJsaWMgc3RhdGljIHByb3ZpZGVyID0gJ2pzb25BUEknXG4gIHB1YmxpYyBzdGF0aWMgYXBpVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wbGFjZXMnXG4gIHB1YmxpYyBmaW5kKGZpbHRlcjogU2VhcmNoRmlsdGVySlNPTik6UHJvbWlzZTxBcGFydG1lbnRzW10+IHtcbiAgICByZXR1cm4gSHR0cEhlbHBlci5mZXRjaEFzSnNvbjxBcGFydG1lbnRzTGlzdFJlc3BvbnNlSlNPTkFwaT4oanNvbkFQSVByb3ZpZGVyLmFwaVVSTClcbiAgICAgIC50aGVuKChyZXNwKSA9PiB0aGlzLmNvbnZlcnRCb29rTGlzdFJlc3BvbnNlKHJlc3ApKVxuICB9XG4gIHByaXZhdGUgY29udmVydEJvb2tMaXN0UmVzcG9uc2UocmVzcG9uc2U6IEFwYXJ0bWVudHNMaXN0UmVzcG9uc2VKU09OQXBpKTogQXBhcnRtZW50c1tdIHtcbiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZXNwb25zZSkubWFwKChpdGVtKSA9PiB0aGlzLmNvbnZlcnRCb29rUmVzcG9uc2UoaXRlbSkpXG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRCb29rUmVzcG9uc2UoaXRlbTogQXBhcnRtZW50SlNPTkFwaSk6IEFwYXJ0bWVudHMge1xuICAgIHJldHVybiBuZXcgQXBhcnRtZW50cyhcbiAgICAgIGpzb25BUElQcm92aWRlci5wcm92aWRlcixcbiAgICAgIGl0ZW0uaWQsXG4gICAgICBpdGVtLm5hbWUsXG4gICAgICBpdGVtLmRlc2NyaXB0aW9uLFxuICAgICAgaXRlbS5wcmljZSxcbiAgICAgIGl0ZW0uaW1hZ2UsXG4gICAgICBpdGVtLnJlbW90ZW5lc3MsXG4gICAgICBpdGVtLmJvb2tlZERhdGVzLFxuICAgIClcbiAgfVxufVxuIl19