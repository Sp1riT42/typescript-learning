import { Apartments } from '../../domain/apartments.js';
import { HttpHelper } from '../../utils/httpHelper.js';
export class jsonAPIProvider {
    find(filter) {
        console.log(filter);
        return HttpHelper.fetchAsJson(jsonAPIProvider.apiURL)
            .then((resp) => this.convertBookListResponse(resp));
    }
    convertBookListResponse(response) {
        console.log(response);
        return Object.values(response).map((item) => this.convertBookResponse(item));
    }
    convertBookResponse(item) {
        return new Apartments(jsonAPIProvider.provider, item.id, item.name, item.description, item.price, item.image, item.remoteness, item.bookedDates);
    }
}
jsonAPIProvider.provider = 'jsonAPI';
jsonAPIProvider.apiURL = 'http://localhost:3000/places';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbkFQSVByb3ZpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2Jvb2tpbmdTZXJ2aWNlL3Byb3ZpZGVycy9qc29uQVBJL2pzb25BUElQcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsVUFBVSxFQUFDLE1BQU0sNEJBQTRCLENBQUM7QUFHdEQsT0FBTyxFQUFrRCxVQUFVLEVBQUMsTUFBTSwyQkFBMkIsQ0FBQztBQUV0RyxNQUFNLE9BQU8sZUFBZTtJQUduQixJQUFJLENBQUMsTUFBd0I7UUFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUNuQixPQUFPLFVBQVUsQ0FBQyxXQUFXLENBQWdDLGVBQWUsQ0FBQyxNQUFNLENBQUM7YUFDakYsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtJQUN2RCxDQUFDO0lBQ08sdUJBQXVCLENBQUMsUUFBdUM7UUFDckUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUNyQixPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtJQUM5RSxDQUFDO0lBRU8sbUJBQW1CLENBQUMsSUFBc0I7UUFDaEQsT0FBTyxJQUFJLFVBQVUsQ0FDbkIsZUFBZSxDQUFDLFFBQVEsRUFDeEIsSUFBSSxDQUFDLEVBQUUsRUFDUCxJQUFJLENBQUMsSUFBSSxFQUNULElBQUksQ0FBQyxXQUFXLEVBQ2hCLElBQUksQ0FBQyxLQUFLLEVBQ1YsSUFBSSxDQUFDLEtBQUssRUFDVixJQUFJLENBQUMsVUFBVSxFQUNmLElBQUksQ0FBQyxXQUFXLENBQ2pCLENBQUE7SUFDSCxDQUFDOztBQXZCYSx3QkFBUSxHQUFHLFNBQVMsQ0FBQTtBQUNwQixzQkFBTSxHQUFHLDhCQUE4QixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBcGFydG1lbnRzfSBmcm9tICcuLi8uLi9kb21haW4vYXBhcnRtZW50cy5qcyc7XG5pbXBvcnQge1Byb3ZpZGVyfSBmcm9tICcuLi8uLi9kb21haW4vcHJvdmlkZXIuanMnO1xuaW1wb3J0IHtTZWFyY2hGaWx0ZXJKU09OfSBmcm9tICcuLi8uLi9kb21haW4vc2VhcmNoRmlsdGVyLmpzJztcbmltcG9ydCB7QXBhcnRtZW50SlNPTkFwaSwgQXBhcnRtZW50c0xpc3RSZXNwb25zZUpTT05BcGksIEh0dHBIZWxwZXJ9IGZyb20gJy4uLy4uL3V0aWxzL2h0dHBIZWxwZXIuanMnO1xuXG5leHBvcnQgY2xhc3MganNvbkFQSVByb3ZpZGVyIGltcGxlbWVudHMgUHJvdmlkZXJ7XG4gIHB1YmxpYyBzdGF0aWMgcHJvdmlkZXIgPSAnanNvbkFQSSdcbiAgcHVibGljIHN0YXRpYyBhcGlVUkwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL3BsYWNlcydcbiAgcHVibGljIGZpbmQoZmlsdGVyOiBTZWFyY2hGaWx0ZXJKU09OKTpQcm9taXNlPEFwYXJ0bWVudHNbXT4ge1xuICAgIGNvbnNvbGUubG9nKGZpbHRlcilcbiAgICByZXR1cm4gSHR0cEhlbHBlci5mZXRjaEFzSnNvbjxBcGFydG1lbnRzTGlzdFJlc3BvbnNlSlNPTkFwaT4oanNvbkFQSVByb3ZpZGVyLmFwaVVSTClcbiAgICAgIC50aGVuKChyZXNwKSA9PiB0aGlzLmNvbnZlcnRCb29rTGlzdFJlc3BvbnNlKHJlc3ApKVxuICB9XG4gIHByaXZhdGUgY29udmVydEJvb2tMaXN0UmVzcG9uc2UocmVzcG9uc2U6IEFwYXJ0bWVudHNMaXN0UmVzcG9uc2VKU09OQXBpKTogQXBhcnRtZW50c1tdIHtcbiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZXNwb25zZSkubWFwKChpdGVtKSA9PiB0aGlzLmNvbnZlcnRCb29rUmVzcG9uc2UoaXRlbSkpXG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRCb29rUmVzcG9uc2UoaXRlbTogQXBhcnRtZW50SlNPTkFwaSk6IEFwYXJ0bWVudHMge1xuICAgIHJldHVybiBuZXcgQXBhcnRtZW50cyhcbiAgICAgIGpzb25BUElQcm92aWRlci5wcm92aWRlcixcbiAgICAgIGl0ZW0uaWQsXG4gICAgICBpdGVtLm5hbWUsXG4gICAgICBpdGVtLmRlc2NyaXB0aW9uLFxuICAgICAgaXRlbS5wcmljZSxcbiAgICAgIGl0ZW0uaW1hZ2UsXG4gICAgICBpdGVtLnJlbW90ZW5lc3MsXG4gICAgICBpdGVtLmJvb2tlZERhdGVzLFxuICAgIClcbiAgfVxufVxuIl19