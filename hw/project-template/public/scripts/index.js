import { renderSearchFormBlock } from './search-form.js';
import { renderSearchStubBlock } from './search-results.js';
import { renderUserBlock } from './user.js';
import { renderToast } from './lib.js';
const date = new Date();
const nextDate = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);
const nextDateDay = nextDate.getDate() < 10 ? '0' + nextDate.getDate() : nextDate.getDate();
const nextDateMonth = nextDate.getMonth() + 1 < 10 ? '0' + (nextDate.getMonth() + 1) : nextDate.getMonth() + 1;
const nextDateYear = nextDate.getFullYear() + '';
const nextDay = `${nextDateYear}-${nextDateMonth}-${nextDateDay}`;
const secondDate = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 3);
const secondDateDay = secondDate.getDate() < 10 ? '0' + secondDate.getDate() : secondDate.getDate();
const secondDateMonth = secondDate.getMonth() + 1 < 10 ? '0' + (secondDate.getMonth() + 1) : secondDate.getMonth() + 1;
const secondDateYear = secondDate.getFullYear() + '';
const secondDay = `${secondDateYear}-${secondDateMonth}-${secondDateDay}`;
let userData;
let favoritesAmount;
export const getUserData = () => {
    localStorage.setItem('user', JSON.stringify({ username: 'John Smith', avatarURL: '/img/avatar.png' }));
    return JSON.parse(localStorage.getItem('user'));
};
export const validateData = (data) => {
    console.log(data, data.username, data.avatarURL, typeof data, typeof data === 'object', 'username' in data, 'avatarURL' in data);
    if (typeof data === 'object' && 'username' in data && 'avatarURL' in data) {
        console.log(data);
        return data;
    }
};
export const getFavoritesAmount = () => {
    return Object.keys(JSON.parse(localStorage.getItem('favoritesAmount'))).length;
};
window.addEventListener('DOMContentLoaded', () => {
    userData = getUserData();
    const data = validateData(userData);
    favoritesAmount = Number(getFavoritesAmount());
    if (typeof favoritesAmount === 'number') {
        renderUserBlock(data.username, data.avatarURL, favoritesAmount);
    }
    renderSearchFormBlock(nextDay, secondDay);
    renderSearchStubBlock();
    renderToast({ text: 'Это пример уведомления. Используйте его при необходимости', type: 'success' }, { name: 'Понял', handler: () => { console.log('Уведомление закрыто'); } });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFDeEQsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0scUJBQXFCLENBQUE7QUFDM0QsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLFdBQVcsQ0FBQTtBQUMzQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBRXRDLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUE7QUFDdkIsTUFBTSxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUUsQ0FBQyxDQUFDLENBQUE7QUFDaEYsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFBO0FBQzNGLE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUE7QUFDOUcsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUUsQ0FBQTtBQUNoRCxNQUFNLE9BQU8sR0FBRyxHQUFHLFlBQVksSUFBSSxhQUFhLElBQUksV0FBVyxFQUFFLENBQUE7QUFDakUsTUFBTSxVQUFVLEdBQUcsSUFBSSxJQUFJ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LEVBQUUsR0FBRyxFQUFFLEdBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBLENBQUEsQ0FBQyxFQUFDLENBQ3JFLENBQUE7QUFDSCxDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlclNlYXJjaEZvcm1CbG9jayB9IGZyb20gJy4vc2VhcmNoLWZvcm0uanMnXG5pbXBvcnQgeyByZW5kZXJTZWFyY2hTdHViQmxvY2sgfSBmcm9tICcuL3NlYXJjaC1yZXN1bHRzLmpzJ1xuaW1wb3J0IHsgcmVuZGVyVXNlckJsb2NrIH0gZnJvbSAnLi91c2VyLmpzJ1xuaW1wb3J0IHsgcmVuZGVyVG9hc3QgfSBmcm9tICcuL2xpYi5qcydcblxuY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcbmNvbnN0IG5leHREYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksZGF0ZS5nZXREYXRlKCkgKzEpXG5jb25zdCBuZXh0RGF0ZURheSA9IG5leHREYXRlLmdldERhdGUoKSA8IDEwID8gJzAnICsgbmV4dERhdGUuZ2V0RGF0ZSgpIDogbmV4dERhdGUuZ2V0RGF0ZSgpXG5jb25zdCBuZXh0RGF0ZU1vbnRoID0gbmV4dERhdGUuZ2V0TW9udGgoKSArIDEgPCAxMCA/ICcwJyArIChuZXh0RGF0ZS5nZXRNb250aCgpICsgMSkgOiBuZXh0RGF0ZS5nZXRNb250aCgpICsgMVxuY29uc3QgbmV4dERhdGVZZWFyID0gbmV4dERhdGUuZ2V0RnVsbFllYXIoKSArICcnXG5jb25zdCBuZXh0RGF5ID0gYCR7bmV4dERhdGVZZWFyfS0ke25leHREYXRlTW9udGh9LSR7bmV4dERhdGVEYXl9YFxuY29uc3Qgc2Vjb25kRGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSArIDMpO1xuY29uc3Qgc2Vjb25kRGF0ZURheSA9IHNlY29uZERhdGUuZ2V0RGF0ZSgpIDwgMTAgPyAnMCcgKyBzZWNvbmREYXRlLmdldERhdGUoKSA6IHNlY29uZERhdGUuZ2V0RGF0ZSgpO1xuY29uc3Qgc2Vjb25kRGF0ZU1vbnRoID0gc2Vjb25kRGF0ZS5nZXRNb250aCgpICsgMSA8IDEwID8gJzAnICsgKHNlY29uZERhdGUuZ2V0TW9udGgoKSArIDEpIDogc2Vjb25kRGF0ZS5nZXRNb250aCgpICsgMTtcbmNvbnN0IHNlY29uZERhdGVZZWFyID0gc2Vjb25kRGF0ZS5nZXRGdWxsWWVhcigpICsgJyc7XG5jb25zdCBzZWNvbmREYXkgPSBgJHtzZWNvbmREYXRlWWVhcn0tJHtzZWNvbmREYXRlTW9udGh9LSR7c2Vjb25kRGF0ZURheX1gO1xuXG5sZXQgdXNlckRhdGE6IHVua25vd25cbmxldCBmYXZvcml0ZXNBbW91bnQ6IHVua25vd25cbmludGVyZmFjZSBVc2VyRGF0YSB7XG4gIHVzZXJuYW1lOiBzdHJpbmcsXG4gIGF2YXRhclVSTDogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyRGF0YSA9ICgpID0+IHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh7dXNlcm5hbWU6ICdKb2huIFNtaXRoJywgYXZhdGFyVVJMOiAnL2ltZy9hdmF0YXIucG5nJ30pKVxuICByZXR1cm4gIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSkgYXMgVXNlckRhdGFcbn1cblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlRGF0YSA9IChkYXRhOiBhbnkpOlVzZXJEYXRhID0+IHtcbiAgY29uc29sZS5sb2coZGF0YSwgZGF0YS51c2VybmFtZSwgZGF0YS5hdmF0YXJVUkwsIHR5cGVvZiBkYXRhLCB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgLCAgJ3VzZXJuYW1lJyBpbiBkYXRhLCAnYXZhdGFyVVJMJyBpbiBkYXRhKVxuICBpZih0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgJ3VzZXJuYW1lJyBpbiBkYXRhICYmICdhdmF0YXJVUkwnIGluIGRhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgIHJldHVybiBkYXRhXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldEZhdm9yaXRlc0Ftb3VudCA9ICgpID0+IHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Zhdm9yaXRlc0Ftb3VudCcpKSkubGVuZ3RoXG59XG5cblxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgdXNlckRhdGEgPSBnZXRVc2VyRGF0YSgpXG4gIGNvbnN0IGRhdGEgPSAgdmFsaWRhdGVEYXRhKHVzZXJEYXRhKVxuICBmYXZvcml0ZXNBbW91bnQgPSBOdW1iZXIoZ2V0RmF2b3JpdGVzQW1vdW50KCkpXG4gIGlmKHR5cGVvZiBmYXZvcml0ZXNBbW91bnQgPT09ICdudW1iZXInKSB7XG4gICAgcmVuZGVyVXNlckJsb2NrKGRhdGEudXNlcm5hbWUsZGF0YS5hdmF0YXJVUkwsZmF2b3JpdGVzQW1vdW50KVxuICB9XG4gIHJlbmRlclNlYXJjaEZvcm1CbG9jayhuZXh0RGF5LCBzZWNvbmREYXkpXG4gIHJlbmRlclNlYXJjaFN0dWJCbG9jaygpXG4gIHJlbmRlclRvYXN0KFxuICAgIHt0ZXh0OiAn0K3RgtC+INC/0YDQuNC80LXRgCDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPLiDQmNGB0L/QvtC70YzQt9GD0LnRgtC1INC10LPQviDQv9GA0Lgg0L3QtdC+0LHRhdC+0LTQuNC80L7RgdGC0LgnLCB0eXBlOiAnc3VjY2Vzcyd9LFxuICAgIHtuYW1lOiAn0J/QvtC90Y/QuycsIGhhbmRsZXI6ICgpID0+IHtjb25zb2xlLmxvZygn0KPQstC10LTQvtC80LvQtdC90LjQtSDQt9Cw0LrRgNGL0YLQvicpfX1cbiAgKVxufSlcblxuIl19